{"version":3,"sources":["components/Button/index.jsx","components/SearchInput/index.jsx","assets/logo.svg","components/Header/index.jsx","components/ContentList/index.jsx","components/App.jsx","hooks/useFetchContent.js","index.jsx"],"names":["Button","props","className","SearchInput","onSearch","useState","value","setValue","onSearchChange","useCallback","e","target","onSubmit","onChange","onClick","Header","src","logo","alt","ContentList","content","map","item","name","image","id","App","imgList","setImgList","portion","setPortion","values","setValues","isLastPage","setIsLastPage","fetchHandler","val","p","a","fetch","promise","json","items","results","console","log","firstFetch","slice","fetchMore","page","Math","round","info","next","length","useFetchContent","useEffect","initFetch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fcdfd048.chunk.js","sourcesContent":["import \"./index.css\";\r\n\r\nconst Button = (props) => (\r\n  <button className=\"Button\" {...props} />\r\n);\r\n\r\nexport default Button;\r\n","import { useCallback, useState } from 'react';\r\nimport Button from \"../Button\";\r\nimport \"./index.css\";\r\n\r\nconst SearchInput = ({ onSearch }) => {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const onSearchChange = useCallback((e) => setValue(e.target.value), []);\r\n  const onSubmit = useCallback(() => onSearch(value), [value, onSearch]);\r\n\r\n  return (\r\n    <div className=\"SearchInput\">\r\n      <input value={value} onChange={onSearchChange} />\r\n      <Button onClick={onSubmit}>Submit</Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchInput;\r\n","export default __webpack_public_path__ + \"static/media/logo.e1f86449.svg\";","import SearchInput from \"../SearchInput\";\r\nimport logo from \"../../assets/logo.svg\";\r\nimport \"./index.css\";\r\n\r\nconst Header = ({ onSearch }) => (\r\n\r\n  <header className=\"Header\">\r\n    <img src={logo} className=\"Header-logo\" alt=\"logo\" />\r\n    <SearchInput onSearch={onSearch} />\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","\r\nconst ContentList = ({content}) => {\r\n\r\n    return (\r\n        <>\r\n            <ul>\r\n                {/* TODO: Display content */}\r\n                {/*  {console.info(`Available content: ${content}`)}*/}\r\n                {\r\n                    content && content.map ((item) =>  <div key={item.id}>\r\n                        <div>{item.name}</div>\r\n                        <img alt={item.name} src={item.image}/>\r\n                    </div>)\r\n                }\r\n            </ul>\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ContentList;\r\n\r\n","import Header from \"./Header\";\r\nimport ContentList from \"./ContentList\";\r\nimport {useFetchContent} from \"../hooks/useFetchContent\";\r\nimport \"./App.css\";\r\nimport {useEffect} from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nconst App = () => {\r\n    const [firstFetch, content, fetchMore,isLastPage] = useFetchContent ();\r\n      useEffect ( () => {\r\n        const initFetch = async ()=>  await firstFetch (\"\");\r\n         initFetch()\r\n    }, [firstFetch]);\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Header onSearch={firstFetch}/>\r\n            <h1>Simple content list</h1>\r\n            <ContentList content={content}/>\r\n            {/* TODO: Put FetchMoreButton component here */}\r\n            {!isLastPage ? < Button  onClick={fetchMore}>FetchMoreButton</Button>\r\n                :<h2>это все содержимое</h2>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import {useCallback, useState} from \"react\";\r\n\r\nexport const useFetchContent = () => {\r\n    const [imgList, setImgList] = useState ([]);\r\n    const [portion, setPortion] = useState (1);\r\n    const [values, setValues] = useState (\"\");\r\n    const [isLastPage, setIsLastPage] = useState (false);\r\n\r\n    const fetchHandler = useCallback (async (val, p) => {\r\n        try {\r\n            setIsLastPage (false);\r\n            let promise = await fetch (`https://rickandmortyapi.com/api/character/?name=${val}&page=${p}`);\r\n            let json = await promise.json ();\r\n            let items = json.results;\r\n            return [json, items];\r\n        } catch (e) {\r\n            console.log (\"fetch request error\");\r\n        }\r\n    }, []);\r\n\r\n    const firstFetch = useCallback (async (value) => {\r\n        try {\r\n            const [json, items] = await fetchHandler (value, 1);\r\n            setImgList (items.slice (0, 10));\r\n            setPortion (2);\r\n            setValues (value);\r\n        } catch (e) {\r\n            console.log (\"fetch request error\");\r\n        }\r\n    }, [fetchHandler]);\r\n\r\n\r\n    const fetchMore = useCallback (async () => {\r\n        try {\r\n            setPortion (portion + 1);\r\n            const page = Math.round (portion / 2);\r\n            const [json, items] = await fetchHandler (values, page);\r\n            if (!json.info.next) setIsLastPage (true);\r\n            const isFirstTen = portion % 2;\r\n            if (isFirstTen) {\r\n                setImgList ([...imgList, ...items.slice (0, 10)]);\r\n            } else {\r\n                setImgList ([...imgList.slice (0, imgList.length - 10), ...items]);\r\n            }\r\n        } catch (e) {\r\n            console.log (\"fetch request error\");\r\n        }\r\n\r\n\r\n    }, [imgList, values, portion, fetchHandler]);\r\n\r\n    return [firstFetch, imgList, fetchMore, isLastPage];\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}